<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nursing Neuro-Dive: Skin, Burns & Trauma</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap');

        :root {
            --primary: #4F46E5;
            --secondary: #10B981;
            --accent: #F59E0B;
            --danger: #EF4444;
            --dark: #1F2937;
            --light: #F3F4F6;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }

        /* ADHD Friendly Focus Styles */
        .bionic-word { font-weight: 800; }
        
        .focus-mode .sidebar { display: none; }
        .focus-mode .main-content { margin-left: 0; max-width: 800px; margin: 0 auto; }

        /* Interactive Elements */
        .interactive-card {
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        .interactive-card:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .highlight-text {
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        .highlight-text:hover { background-color: #e2e8f0; }
        .highlight-text.selected { background-color: #fef08a; border-bottom: 2px solid #ca8a04; }

        .progress-bar { transition: width 0.5s ease-in-out; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        .hidden-content { display: none; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="h-screen flex overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="sidebar w-64 bg-slate-900 text-white flex-shrink-0 flex flex-col transition-all duration-300 overflow-y-auto">
        <div class="p-6 border-b border-slate-700">
            <h1 class="text-xl font-bold tracking-tight text-indigo-400"><i class="fas fa-user-nurse mr-2"></i>Neuro-Nurse Prep</h1>
            <p class="text-xs text-slate-400 mt-2">Chapter 21: Skin Trauma & Burns</p>
            <div class="mt-4 bg-slate-800 rounded-full h-2 w-full overflow-hidden">
                <div id="overall-progress" class="bg-indigo-500 h-full w-0 progress-bar"></div>
            </div>
            <p class="text-xs text-right mt-1 text-slate-400"><span id="progress-text">0</span>% Complete</p>
        </div>
        
        <nav class="flex-1 p-4 space-y-2">
            <button onclick="loadSection('intro')" class="nav-btn w-full text-left p-3 rounded hover:bg-slate-800 focus:bg-slate-700 active-nav text-sm"><i class="fas fa-home w-6"></i> Start Here</button>
            <button onclick="loadSection('healing')" class="nav-btn w-full text-left p-3 rounded hover:bg-slate-800 focus:bg-slate-700 text-sm"><i class="fas fa-band-aid w-6"></i> Wound Healing</button>
            <button onclick="loadSection('burns_basics')" class="nav-btn w-full text-left p-3 rounded hover:bg-slate-800 focus:bg-slate-700 text-sm"><i class="fas fa-fire w-6"></i> Burns: Types & Assessment</button>
            <button onclick="loadSection('systemic')" class="nav-btn w-full text-left p-3 rounded hover:bg-slate-800 focus:bg-slate-700 text-sm"><i class="fas fa-heartbeat w-6"></i> Systemic Changes</button>
            <button onclick="loadSection('resuscitation')" class="nav-btn w-full text-left p-3 rounded hover:bg-slate-800 focus:bg-slate-700 text-sm"><i class="fas fa-tint w-6"></i> Fluid Resuscitation (Parkland)</button>
            <button onclick="loadSection('management')" class="nav-btn w-full text-left p-3 rounded hover:bg-slate-800 focus:bg-slate-700 text-sm"><i class="fas fa-hospital-user w-6"></i> Management & Care</button>
            <button onclick="loadSection('cancer')" class="nav-btn w-full text-left p-3 rounded hover:bg-slate-800 focus:bg-slate-700 text-sm"><i class="fas fa-sun w-6"></i> Skin Cancer & SJS/TEN</button>
            <button onclick="loadSection('ngn_case')" class="nav-btn w-full text-left p-3 rounded bg-indigo-900 hover:bg-indigo-800 focus:bg-indigo-800 text-sm border border-indigo-500 shadow-lg glow"><i class="fas fa-clipboard-check w-6"></i> NGN CASE STUDY</button>
        </nav>

        <div class="p-4 border-t border-slate-700">
            <button onclick="toggleFocusMode()" class="w-full py-2 bg-slate-700 hover:bg-slate-600 rounded text-sm transition"><i class="fas fa-expand mr-2"></i> Focus Mode</button>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content flex-1 overflow-y-auto bg-slate-50 relative">
        <!-- Header -->
        <header class="bg-white shadow-sm sticky top-0 z-10 px-8 py-4 flex justify-between items-center">
            <h2 id="section-title" class="text-2xl font-bold text-slate-800">Welcome</h2>
            <div class="flex gap-3">
                <button onclick="changeFontSize('decrease')" class="p-2 text-slate-500 hover:text-indigo-600"><i class="fas fa-minus"></i></button>
                <button onclick="changeFontSize('increase')" class="p-2 text-slate-500 hover:text-indigo-600"><i class="fas fa-plus"></i></button>
            </div>
        </header>

        <!-- Dynamic Content Container -->
        <div id="content-area" class="p-8 max-w-5xl mx-auto pb-24">
            <!-- Content Injected via JS -->
        </div>

        <!-- Floating Action Button for Notes -->
        <div class="fixed bottom-8 right-8">
            <button onclick="toggleNotes()" class="bg-indigo-600 hover:bg-indigo-700 text-white rounded-full p-4 shadow-xl transition transform hover:scale-110">
                <i class="fas fa-sticky-note text-xl"></i>
            </button>
        </div>

        <!-- Notes Modal -->
        <div id="notes-modal" class="hidden fixed bottom-24 right-8 w-80 bg-yellow-100 shadow-2xl rounded-lg border-2 border-yellow-300 p-4 z-50 transform transition-all">
            <div class="flex justify-between items-center mb-2">
                <h3 class="font-bold text-yellow-800">Quick Notes</h3>
                <button onclick="toggleNotes()" class="text-yellow-800 hover:text-red-600"><i class="fas fa-times"></i></button>
            </div>
            <textarea id="user-notes" class="w-full h-40 bg-transparent border-none focus:ring-0 resize-none font-handwriting text-slate-800" placeholder="Type reminders here..."></textarea>
        </div>
    </main>

    <!-- JavaScript Application Logic -->
    <script>
        // --- State Management ---
        let currentSection = 'intro';
        let progress = {
            healing: 0,
            burns_basics: 0,
            systemic: 0,
            resuscitation: 0,
            management: 0,
            cancer: 0,
            ngn_case: 0
        };

        // --- Data Content ---
        const sections = {
            intro: `
                <div class="fade-in">
                    <div class="bg-indigo-100 border-l-4 border-indigo-500 text-indigo-700 p-4 mb-6" role="alert">
                        <p class="font-bold">ADHD Learning Strategy:</p>
                        <p>This module is broken into "chunks". Don't try to read it all at once. Use the <strong>Pomodoro method</strong>: Work through one section (approx 15 mins), then take a 5 min break.</p>
                    </div>
                    <h1 class="text-4xl font-extrabold mb-6">Skin Trauma & Burns</h1>
                    <p class="text-lg mb-4">We are going to cover Chapter 21. From a simple cut to life-threatening burns.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                        <div class="bg-white p-6 rounded-xl shadow-md interactive-card" onclick="loadSection('healing')">
                            <h3 class="text-xl font-bold text-indigo-600 mb-2">1. Wound Healing</h3>
                            <p class="text-slate-600">The 3 phases, intentions of healing, and what goes wrong.</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md interactive-card" onclick="loadSection('resuscitation')">
                            <h3 class="text-xl font-bold text-pink-600 mb-2">2. The Math (Fluid Resuscitation)</h3>
                            <p class="text-slate-600">Master the Parkland Formula and Rule of 9s.</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md interactive-card" onclick="loadSection('ngn_case')">
                            <h3 class="text-xl font-bold text-emerald-600 mb-2">3. NCLEX NGN Challenge</h3>
                            <p class="text-slate-600">Test your knowledge with a complex case study.</p>
                        </div>
                    </div>
                </div>
            `,
            healing: `
                <div class="fade-in space-y-8">
                    <section>
                        <h3 class="text-2xl font-bold text-slate-800 border-b-2 border-indigo-200 pb-2 mb-4">The 3 Phases of Healing</h3>
                        <p class="mb-4 italic text-slate-500">Memorize the timeline. It's high-yield for NCLEX.</p>
                        
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                                <h4 class="font-bold text-red-700 text-lg mb-2"><i class="fas fa-fire mr-2"></i>1. Inflammatory</h4>
                                <ul class="list-disc pl-5 text-sm space-y-1 text-slate-700">
                                    <li><strong>Time:</strong> Injury to 3-5 days.</li>
                                    <li><strong>Key Events:</strong> Vasoconstriction -> Clot -> Vasodilation (after 10 mins).</li>
                                    <li><strong>Cells:</strong> Macrophages migrate in.</li>
                                    <li><strong>S/S:</strong> Edema, Pain, Redness, Warmth.</li>
                                </ul>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                                <h4 class="font-bold text-blue-700 text-lg mb-2"><i class="fas fa-hammer mr-2"></i>2. Proliferative</h4>
                                <ul class="list-disc pl-5 text-sm space-y-1 text-slate-700">
                                    <li><strong>Time:</strong> Day 4 to 2-4 weeks.</li>
                                    <li><strong>Key Events:</strong> Fibrin scaffold forms. Granulation tissue (buds).</li>
                                    <li><strong>Cells:</strong> Fibroblasts (collagen factories).</li>
                                    <li><strong>Action:</strong> Wound contracts, Epithelial cells grow over.</li>
                                </ul>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                                <h4 class="font-bold text-green-700 text-lg mb-2"><i class="fas fa-shield-alt mr-2"></i>3. Maturation</h4>
                                <ul class="list-disc pl-5 text-sm space-y-1 text-slate-700">
                                    <li><strong>Time:</strong> 3 weeks to 1+ year.</li>
                                    <li><strong>Key Events:</strong> Collagen reorganization.</li>
                                    <li><strong>Outcome:</strong> Scar becomes thinner/paler. Mature scar is firm/inelastic.</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section class="bg-white p-6 rounded-xl shadow-sm">
                        <h3 class="text-2xl font-bold text-slate-800 mb-4">Healing Intentions</h3>
                        <div class="space-y-4">
                            <details class="group p-4 bg-slate-50 rounded-lg cursor-pointer">
                                <summary class="font-bold text-indigo-700 flex justify-between items-center">
                                    <span>First Intention (Primary Union)</span>
                                    <span class="transition group-open:rotate-180"><i class="fas fa-chevron-down"></i></span>
                                </summary>
                                <div class="mt-3 text-slate-600 pl-4 border-l-2 border-indigo-300">
                                    <p>Clean laceration or surgical incision. Edges brought together (sutures/staples). Minimal dead space. Thin scar.</p>
                                </div>
                            </details>
                            <details class="group p-4 bg-slate-50 rounded-lg cursor-pointer">
                                <summary class="font-bold text-indigo-700 flex justify-between items-center">
                                    <span>Second Intention (Granulation)</span>
                                    <span class="transition group-open:rotate-180"><i class="fas fa-chevron-down"></i></span>
                                </summary>
                                <div class="mt-3 text-slate-600 pl-4 border-l-2 border-indigo-300">
                                    <p>Deep tissue loss (Pressure injury, venous ulcer). Cavity must fill with connective tissue. Prolonged repair. Large scar.</p>
                                </div>
                            </details>
                            <details class="group p-4 bg-slate-50 rounded-lg cursor-pointer">
                                <summary class="font-bold text-indigo-700 flex justify-between items-center">
                                    <span>Third Intention (Delayed Primary)</span>
                                    <span class="transition group-open:rotate-180"><i class="fas fa-chevron-down"></i></span>
                                </summary>
                                <div class="mt-3 text-slate-600 pl-4 border-l-2 border-indigo-300">
                                    <p>High risk for infection (contaminated wound). Left open intentionally for debris removal/inflammation to subside. Closed surgically later.</p>
                                </div>
                            </details>
                        </div>
                    </section>
                    
                    <div class="bg-orange-50 border border-orange-200 p-6 rounded-xl">
                        <h4 class="font-bold text-orange-800 mb-2">Check Your Knowledge</h4>
                        <div id="quiz-healing"></div>
                    </div>
                    
                    <div class="text-right">
                        <button onclick="markComplete('healing'); loadSection('burns_basics')" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition">Next: Burns Basics <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            `,
            burns_basics: `
                <div class="fade-in space-y-8">
                     <section>
                        <h3 class="text-2xl font-bold text-slate-800 mb-4">Burn Depth Classification</h3>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white rounded-lg shadow-sm">
                                <thead class="bg-slate-800 text-white">
                                    <tr>
                                        <th class="p-3 text-left">Depth</th>
                                        <th class="p-3 text-left">Color/Appearance</th>
                                        <th class="p-3 text-left">Pain?</th>
                                        <th class="p-3 text-left">Blisters?</th>
                                        <th class="p-3 text-left">Healing</th>
                                    </tr>
                                </thead>
                                <tbody class="text-sm">
                                    <tr class="border-b">
                                        <td class="p-3 font-bold text-pink-600">Superficial (1st Degree)</td>
                                        <td class="p-3">Pink to Red, Dry</td>
                                        <td class="p-3">Yes</td>
                                        <td class="p-3">No</td>
                                        <td class="p-3">~1 week, peeling</td>
                                    </tr>
                                    <tr class="border-b bg-slate-50">
                                        <td class="p-3 font-bold text-red-600">Superficial Partial (2nd)</td>
                                        <td class="p-3">Red, Moist, Blanching</td>
                                        <td class="p-3">Yes (Moderate)</td>
                                        <td class="p-3">Yes</td>
                                        <td class="p-3">~2 weeks, no scar</td>
                                    </tr>
                                    <tr class="border-b">
                                        <td class="p-3 font-bold text-red-800">Deep Partial (Deep 2nd)</td>
                                        <td class="p-3">Less moist, less blanching</td>
                                        <td class="p-3">Less painful</td>
                                        <td class="p-3">Rare</td>
                                        <td class="p-3">2-6 wks, scar deposition</td>
                                    </tr>
                                    <tr class="border-b bg-slate-50">
                                        <td class="p-3 font-bold text-slate-900">Full Thickness (3rd)</td>
                                        <td class="p-3">Black, Red, Yellow, White, Dry, Leathery (Eschar)</td>
                                        <td class="p-3">No (Nerves dead)</td>
                                        <td class="p-3">No</td>
                                        <td class="p-3">Wks-Mos, Needs Grafting</td>
                                    </tr>
                                     <tr>
                                        <td class="p-3 font-bold text-black">Deep Full (4th)</td>
                                        <td class="p-3">Black, Exposed Bone/Muscle</td>
                                        <td class="p-3">No</td>
                                        <td class="p-3">No</td>
                                        <td class="p-3">Amputation/Grafting</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <section class="bg-indigo-50 p-6 rounded-xl border border-indigo-100">
                        <h3 class="text-2xl font-bold text-indigo-900 mb-4">Rule of Nines Calculator (Adult)</h3>
                        <p class="mb-4">Click the body parts to toggle burns and calculate TBSA (Total Body Surface Area).</p>
                        
                        <div class="flex flex-col md:flex-row gap-8 items-center">
                            <!-- Simplified Visual Selector -->
                            <div class="grid grid-cols-2 gap-2 w-full max-w-xs">
                                <button onclick="toggleTBSA(this, 9)" class="p-2 bg-white border rounded hover:bg-red-100 transition">Head (9%)</button>
                                <button onclick="toggleTBSA(this, 18)" class="p-2 bg-white border rounded hover:bg-red-100 transition">Ant. Torso (18%)</button>
                                <button onclick="toggleTBSA(this, 18)" class="p-2 bg-white border rounded hover:bg-red-100 transition">Post. Torso (18%)</button>
                                <button onclick="toggleTBSA(this, 9)" class="p-2 bg-white border rounded hover:bg-red-100 transition">Right Arm (9%)</button>
                                <button onclick="toggleTBSA(this, 9)" class="p-2 bg-white border rounded hover:bg-red-100 transition">Left Arm (9%)</button>
                                <button onclick="toggleTBSA(this, 18)" class="p-2 bg-white border rounded hover:bg-red-100 transition">Right Leg (18%)</button>
                                <button onclick="toggleTBSA(this, 18)" class="p-2 bg-white border rounded hover:bg-red-100 transition">Left Leg (18%)</button>
                                <button onclick="toggleTBSA(this, 1)" class="p-2 bg-white border rounded hover:bg-red-100 transition">Perineum (1%)</button>
                            </div>

                            <div class="bg-white p-6 rounded shadow-lg text-center w-full max-w-xs">
                                <div class="text-4xl font-bold text-red-600" id="tbsa-display">0%</div>
                                <div class="text-sm text-slate-500 uppercase tracking-wide">Total Body Surface Area</div>
                                <button onclick="resetTBSA()" class="mt-4 text-xs text-slate-400 hover:text-slate-600 underline">Reset</button>
                            </div>
                        </div>
                    </section>
                    
                    <div class="text-right">
                        <button onclick="markComplete('burns_basics'); loadSection('systemic')" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition">Next: Systemic Changes <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            `,
            systemic: `
                <div class="fade-in space-y-6">
                    <h3 class="text-2xl font-bold text-slate-800">Systemic Changes (The Body's Reaction)</h3>
                    <p class="text-slate-600">Burns > 25% TBSA cause systemic issues. It's not just a skin problem.</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Vascular -->
                        <div class="bg-white p-5 rounded shadow border-l-4 border-red-500">
                            <h4 class="font-bold text-lg mb-2">Vascular (Fluid Shift)</h4>
                            <ul class="list-disc pl-5 text-sm space-y-2">
                                <li><strong>Third Spacing:</strong> Capillary leak syndrome (Plasma leaks into tissues).</li>
                                <li><strong>Timing:</strong> Starts immediately, peaks 12-24 hrs.</li>
                                <li><strong>Electrolytes:</strong> Hyperkalemia (cell destruction releases K+), Hyponatremia (Na+ trapped in edema).</li>
                                <li><strong>Blood:</strong> Hemoconcentration (High Hct/Hgb) due to dehydration.</li>
                            </ul>
                        </div>

                        <!-- Cardiac -->
                        <div class="bg-white p-5 rounded shadow border-l-4 border-pink-500">
                            <h4 class="font-bold text-lg mb-2">Cardiac</h4>
                            <ul class="list-disc pl-5 text-sm space-y-2">
                                <li>Heart rate INCREASES (Hypovolemia).</li>
                                <li>Cardiac Output DECREASES initially.</li>
                                <li>Shock risk is high.</li>
                            </ul>
                        </div>

                        <!-- Pulmonary -->
                        <div class="bg-white p-5 rounded shadow border-l-4 border-blue-500">
                            <h4 class="font-bold text-lg mb-2">Pulmonary (Inhalation Injury)</h4>
                            <p class="text-sm mb-2 font-bold text-red-600">Major cause of death.</p>
                            <ul class="list-disc pl-5 text-sm space-y-2">
                                <li><strong>Upper Airway:</strong> Edema (Stridor, hoarseness).</li>
                                <li><strong>Lower Airway:</strong> Chemical injury, ciliary action slows.</li>
                                <li><strong>Carbon Monoxide (CO):</strong> Binds to Hgb. "Cherry red" skin. Normal PaO2 but hypoxic tissues.</li>
                            </ul>
                        </div>

                        <!-- GI/Metabolic -->
                        <div class="bg-white p-5 rounded shadow border-l-4 border-yellow-500">
                            <h4 class="font-bold text-lg mb-2">GI & Metabolic</h4>
                            <ul class="list-disc pl-5 text-sm space-y-2">
                                <li><strong>GI:</strong> Decreased blood flow -> Paralytic Ileus. <strong>Curling's Ulcer</strong> (stress ulcer).</li>
                                <li><strong>Metabolic:</strong> Hypermetabolism. Calorie needs double/triple. Core temp increases.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-slate-800 text-white p-4 rounded-lg mt-6">
                        <h4 class="font-bold text-yellow-400"><i class="fas fa-exclamation-triangle"></i> NCLEX Critical Rescue</h4>
                        <p class="mt-2">If you hear a <strong>brassy cough</strong>, wheezes disappear (obstruction!), or see drooling/difficulty swallowing: <strong>IMMEDIATE INTUBATION</strong> may be needed. Apply Oxygen. Call Rapid Response.</p>
                    </div>

                    <div class="text-right">
                        <button onclick="markComplete('systemic'); loadSection('resuscitation')" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition">Next: Fluid Resuscitation <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            `,
            resuscitation: `
                 <div class="fade-in space-y-8">
                    <section>
                        <h3 class="text-3xl font-bold text-slate-800 mb-2">Fluid Resuscitation</h3>
                        <p class="text-slate-600">The <strong>Parkland (Baxter) Formula</strong> is the gold standard for the first 24 hours.</p>
                        
                        <div class="bg-yellow-50 p-6 rounded-lg border-2 border-yellow-400 my-6">
                            <h4 class="text-xl font-bold text-yellow-900 text-center mb-4">THE FORMULA</h4>
                            <p class="text-center text-2xl font-mono bg-white p-4 rounded shadow-inner">
                                4 mL x weight (kg) x %TBSA
                            </p>
                            <div class="grid grid-cols-2 gap-4 mt-4 text-center">
                                <div class="bg-yellow-100 p-2 rounded">
                                    <span class="font-bold block">1st 8 Hours</span>
                                    Give 50% of total
                                </div>
                                <div class="bg-yellow-100 p-2 rounded">
                                    <span class="font-bold block">Next 16 Hours</span>
                                    Give remaining 50%
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Interactive Calculator -->
                    <section class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-indigo-600">
                        <h4 class="text-xl font-bold text-slate-700 mb-4"><i class="fas fa-calculator mr-2"></i>Practice Calculator</h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-slate-700">Weight</label>
                                <div class="flex mt-1">
                                    <input type="number" id="calc-weight" placeholder="150" class="flex-1 p-2 border rounded-l focus:ring-2 focus:ring-indigo-500 outline-none">
                                    <select id="calc-unit" class="p-2 border border-l-0 rounded-r bg-slate-50">
                                        <option value="lbs">lbs</option>
                                        <option value="kg">kg</option>
                                    </select>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700">TBSA Burned (%)</label>
                                <input type="number" id="calc-tbsa" placeholder="50" class="mt-1 w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 outline-none">
                            </div>
                        </div>

                        <button onclick="calculateParkland()" class="w-full mt-6 bg-indigo-600 text-white font-bold py-3 rounded hover:bg-indigo-700 transition">CALCULATE</button>

                        <div id="calc-results" class="hidden mt-6 bg-slate-100 p-4 rounded border border-slate-300">
                            <p><strong>Total 24hr Volume:</strong> <span id="res-total" class="text-indigo-700 font-mono text-xl"></span> mL</p>
                            <hr class="border-slate-300 my-2">
                            <p><strong>Rate (First 8 hrs):</strong> <span id="res-rate1" class="text-indigo-700 font-bold"></span> mL/hr (Total: <span id="res-vol1"></span> mL)</p>
                            <p><strong>Rate (Next 16 hrs):</strong> <span id="res-rate2" class="text-indigo-700 font-bold"></span> mL/hr (Total: <span id="res-vol2"></span> mL)</p>
                        </div>
                    </section>
                    
                    <section>
                        <h4 class="font-bold text-lg mb-2">How do we know it's working?</h4>
                        <p class="mb-2">Don't rely on Blood Pressure! The best indicator is <strong>Urine Output</strong>.</p>
                        <ul class="list-disc pl-5 bg-green-50 p-4 rounded border border-green-200">
                            <li><strong>Target:</strong> 0.5 mL/kg/hr (approx 30-50 mL/hr).</li>
                            <li>Electrical burns need higher output (75-100 mL/hr) to clear myoglobin.</li>
                        </ul>
                    </section>

                    <div class="text-right">
                        <button onclick="markComplete('resuscitation'); loadSection('management')" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition">Next: Management & Care <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                 </div>
            `,
            management: `
                <div class="fade-in space-y-8">
                    <h3 class="text-2xl font-bold text-slate-800">Management by Phase</h3>

                    <!-- Accordion for Phases -->
                    <div class="space-y-4">
                        <div class="bg-white border rounded-lg shadow-sm">
                            <button class="w-full text-left p-4 font-bold text-red-600 bg-red-50 flex justify-between" onclick="this.nextElementSibling.classList.toggle('hidden-content')">
                                1. Emergent Phase (Resuscitation) <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="hidden-content p-4 text-slate-700">
                                <ul class="list-disc pl-5 space-y-2">
                                    <li><strong>Duration:</strong> Injury to 24-48 hrs.</li>
                                    <li><strong>Priorities:</strong> 
                                        <ol class="list-decimal pl-5 mt-1">
                                            <li>Airway (Secure it!)</li>
                                            <li>Circulation (Fluid resuscitation)</li>
                                            <li>Pain Management (IV Opioids ONLY - no IM/SubQ due to poor absorption).</li>
                                            <li>Body Temp (Keep warm).</li>
                                            <li>Emotional support.</li>
                                        </ol>
                                    </li>
                                    <li><strong>Escharotomy:</strong> Cutting eschar to relieve pressure (if chest expansion restricted or compartment syndrome).</li>
                                </ul>
                            </div>
                        </div>

                        <div class="bg-white border rounded-lg shadow-sm">
                            <button class="w-full text-left p-4 font-bold text-blue-600 bg-blue-50 flex justify-between" onclick="this.nextElementSibling.classList.toggle('hidden-content')">
                                2. Acute Phase (Healing) <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="hidden-content p-4 text-slate-700">
                                <ul class="list-disc pl-5 space-y-2">
                                    <li><strong>Duration:</strong> 36-48 hrs after injury until wound closure.</li>
                                    <li><strong>Focus:</strong> Wound care, Infection prevention, Nutrition.</li>
                                    <li><strong>Wound Care:</strong> 
                                        <br><em>Mechanical Debridement:</em> Hydrotherapy (shower), forceps/scissors.
                                        <br><em>Enzymatic:</em> Collagenase (Santyl).
                                    </li>
                                    <li><strong>Grafts:</strong> Autograft (Patient's skin), Allograft (Cadaver), Xenograft (Pig/Porcine).</li>
                                    <li><strong>Nutrition:</strong> High Calorie, High Protein.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="bg-white border rounded-lg shadow-sm">
                            <button class="w-full text-left p-4 font-bold text-green-600 bg-green-50 flex justify-between" onclick="this.nextElementSibling.classList.toggle('hidden-content')">
                                3. Rehabilitative Phase (Restorative) <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="hidden-content p-4 text-slate-700">
                                <ul class="list-disc pl-5 space-y-2">
                                    <li><strong>Duration:</strong> Wound closure to highest level of function (years).</li>
                                    <li><strong>Prevention:</strong> Contractures (positioning, splinting, exercise).</li>
                                    <li><strong>Scarring:</strong> Pressure garments (Jobst) worn 23 hrs/day for 12-24 months to flatten scars.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="bg-indigo-50 p-6 rounded-lg">
                        <h4 class="font-bold text-indigo-900 mb-2">NCLEX Tip: Infection Control</h4>
                        <p class="text-sm">Burn patients are immunocompromised. Use <strong>Standard Precautions</strong>. For major burns, reverse isolation (protective environment) may be used. No fresh plants/flowers. No raw foods.</p>
                    </div>

                    <div class="text-right">
                        <button onclick="markComplete('management'); loadSection('cancer')" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition">Next: Skin Cancer & SJS <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            `,
            cancer: `
                <div class="fade-in space-y-8">
                    <section>
                        <h3 class="text-2xl font-bold text-slate-800 mb-4">Skin Cancer & Prevention</h3>
                        <p class="mb-4">Use the <strong>ABCDE</strong> method for assessment.</p>
                        
                        <div class="grid grid-cols-2 md:grid-cols-5 gap-2 text-center">
                            <div class="bg-white p-2 border rounded font-bold"><span class="text-red-500 block text-xl">A</span>symmetry</div>
                            <div class="bg-white p-2 border rounded font-bold"><span class="text-red-500 block text-xl">B</span>order Irregularity</div>
                            <div class="bg-white p-2 border rounded font-bold"><span class="text-red-500 block text-xl">C</span>olor Variation</div>
                            <div class="bg-white p-2 border rounded font-bold"><span class="text-red-500 block text-xl">D</span>iameter (>6mm)</div>
                            <div class="bg-white p-2 border rounded font-bold"><span class="text-red-500 block text-xl">E</span>volving</div>
                        </div>

                        <div class="mt-6 grid md:grid-cols-3 gap-6">
                            <div class="bg-white p-4 rounded shadow">
                                <h4 class="font-bold text-slate-700">Basal Cell</h4>
                                <p class="text-sm">Pearly papule, central crater, rolled waxy borders. Metastasis rare.</p>
                            </div>
                            <div class="bg-white p-4 rounded shadow">
                                <h4 class="font-bold text-slate-700">Squamous Cell</h4>
                                <p class="text-sm">Firm, nodular, crust/ulceration. Can metastasize (10%).</p>
                            </div>
                            <div class="bg-white p-4 rounded shadow border border-red-200">
                                <h4 class="font-bold text-red-700">Melanoma</h4>
                                <p class="text-sm">Pigmented, irregular, red/white/blue tones. Highly metastatic. High mortality.</p>
                            </div>
                        </div>
                    </section>

                    <section class="bg-red-50 p-6 rounded-xl border border-red-200">
                        <h3 class="text-xl font-bold text-red-800 mb-2">Life Threatening: Stevens-Johnson Syndrome (SJS) & TEN</h3>
                        <p class="mb-4 text-sm">Usually drug-induced (Antibiotics, Anticonvulsants, NSAIDs, Allopurinol).</p>
                        <div class="flex flex-col md:flex-row gap-4">
                            <div class="flex-1 bg-white p-4 rounded">
                                <h5 class="font-bold">SJS</h5>
                                <p class="text-sm">Skin detachment < 10% TBSA.</p>
                            </div>
                             <div class="flex-1 bg-white p-4 rounded">
                                <h5 class="font-bold">TEN (Toxic Epidermal Necrolysis)</h5>
                                <p class="text-sm">Detachment > 30% TBSA.</p>
                            </div>
                        </div>
                        <p class="mt-4 font-bold text-red-900">Intervention: STOP THE DRUG immediately. Treat like a burn patient.</p>
                    </section>

                    <div class="text-right">
                        <button onclick="markComplete('cancer'); loadSection('ngn_case')" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition">Next: NGN CHALLENGE <i class="fas fa-flag-checkered ml-2"></i></button>
                    </div>
                </div>
            `,
            ngn_case: `
                <div class="fade-in">
                    <div class="bg-slate-800 text-white p-4 rounded mb-6 flex justify-between items-center">
                        <h3 class="text-xl font-bold"><i class="fas fa-laptop-medical mr-2"></i>Next Gen NCLEX Challenge</h3>
                        <span class="text-xs bg-slate-600 px-2 py-1 rounded">Case Study 21.1</span>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 h-full">
                        
                        <!-- Left Panel: Chart Data (Sticky) -->
                        <div class="bg-white border rounded shadow-md h-96 overflow-y-auto sticky top-24">
                            <div class="bg-slate-100 p-2 border-b font-bold text-slate-600 text-sm">Medical Record: Client J.D.</div>
                            <div class="p-4 space-y-4 text-sm font-mono">
                                <div>
                                    <strong class="block text-slate-800 border-b">1300: History & Physical</strong>
                                    <p>40 y/o male. House fire rescue attempt. PMH: Metabolic Syndrome. Meds: Metformin, Simvastatin. Wt: 200lb (90.7kg).</p>
                                    <p>VS: T 100.6F, HR 120, RR 26, BP 98/60, SpO2 88% RA.</p>
                                </div>
                                <div>
                                    <strong class="block text-slate-800 border-b">1305: Nurses Notes</strong>
                                    <p>Clothing removed. Large bore IV. Client groaning.</p>
                                    <p><strong>Burn Assessment:</strong></p>
                                    <ul class="list-disc pl-5">
                                        <li>R Arm (Ant/Post) - 2nd/3rd deg</li>
                                        <li>Trunk (Ant/Post - Half) - 2nd/3rd deg</li>
                                        <li>Both Legs (Ant/Post) - 2nd/3rd deg</li>
                                        <li>R Face/Head - 2nd deg</li>
                                    </ul>
                                    <p class="text-red-600 font-bold">Est TBSA: 49.5%</p>
                                </div>
                            </div>
                        </div>

                        <!-- Right Panel: Questions -->
                        <div class="space-y-12 pb-24">
                            
                            <!-- Q1: Highlight -->
                            <div class="bg-white p-6 rounded shadow border-l-4 border-indigo-500">
                                <h4 class="font-bold text-slate-800 mb-4">Question 1: Recognize Cues</h4>
                                <p class="mb-4 text-sm">Highlight the findings that require immediate follow-up (Click to select).</p>
                                <div class="bg-slate-50 p-4 rounded leading-loose" id="highlight-area">
                                    <span class="highlight-text" onclick="toggleHighlight(this)">Client returned into burning house</span>. 
                                    <span class="highlight-text" onclick="toggleHighlight(this)">Metformin 500mg</span>. 
                                    <span class="highlight-text" onclick="toggleHighlight(this)">Height: 72 inches</span>. 
                                    <span class="highlight-text correct-highlight" onclick="toggleHighlight(this)">HR 120 beats/min</span>. 
                                    <span class="highlight-text correct-highlight" onclick="toggleHighlight(this)">RR 26 breaths/min</span>. 
                                    <span class="highlight-text correct-highlight" onclick="toggleHighlight(this)">BP 98/60 mm Hg</span>. 
                                    <span class="highlight-text correct-highlight" onclick="toggleHighlight(this)">SpO2 88% on RA</span>.
                                </div>
                                <button onclick="checkHighlight()" class="mt-4 text-xs bg-slate-700 text-white px-3 py-1 rounded">Check Answer</button>
                                <div id="feedback-q1" class="mt-2 text-sm hidden font-bold"></div>
                            </div>

                            <!-- Q2: Cloze (Dropdown) -->
                            <div class="bg-white p-6 rounded shadow border-l-4 border-indigo-500">
                                <h4 class="font-bold text-slate-800 mb-4">Question 2: Analyze Cues</h4>
                                <p class="mb-4 text-sm">Complete the sentence.</p>
                                <div class="p-4 bg-slate-50 rounded">
                                    The client is at high risk for 
                                    <select id="q2-select1" class="border rounded p-1">
                                        <option value="">Select...</option>
                                        <option value="correct">Hypovolemic Shock</option>
                                        <option value="wrong">DKA</option>
                                        <option value="wrong">Hyperthermia</option>
                                    </select> 
                                    as evidenced by 
                                    <select id="q2-select2" class="border rounded p-1">
                                        <option value="">Select...</option>
                                        <option value="wrong">Temp 100.6</option>
                                        <option value="correct">Almost 50% TBSA Burned</option>
                                    </select>
                                    and
                                    <select id="q2-select3" class="border rounded p-1">
                                        <option value="">Select...</option>
                                        <option value="correct">Elevated Heart Rate</option>
                                        <option value="wrong">Groaning</option>
                                    </select>.
                                </div>
                                <button onclick="checkCloze()" class="mt-4 text-xs bg-slate-700 text-white px-3 py-1 rounded">Check Answer</button>
                                <div id="feedback-q2" class="mt-2 text-sm hidden font-bold"></div>
                            </div>

                            <!-- Q3: Calculation -->
                            <div class="bg-white p-6 rounded shadow border-l-4 border-indigo-500">
                                <h4 class="font-bold text-slate-800 mb-4">Question 3: Generate Solutions</h4>
                                <p class="mb-4 text-sm">Calculate the fluid volume for the <strong>FIRST 8 HOURS</strong> based on TBSA 49.5% and Wt 90.7kg.</p>
                                <input type="number" id="q3-input" class="border p-2 rounded w-full mb-2" placeholder="Enter mL">
                                <button onclick="checkMathQ()" class="text-xs bg-slate-700 text-white px-3 py-1 rounded">Check Answer</button>
                                <div id="feedback-q3" class="mt-2 text-sm hidden font-bold"></div>
                            </div>

                        </div>
                    </div>
                </div>
            `
        };

        const quizzes = {
            healing: `
                <div class="space-y-2">
                    <p>Which phase involves fibroblast migration and collagen secretion?</p>
                    <div class="flex gap-2">
                        <button onclick="checkQuiz(this, false, 'Inflammatory: Only minimal collagen.')" class="flex-1 p-2 bg-white border rounded hover:bg-slate-50">Inflammatory</button>
                        <button onclick="checkQuiz(this, true, 'Correct! Fibroblasts = Proliferative.')" class="flex-1 p-2 bg-white border rounded hover:bg-slate-50">Proliferative</button>
                        <button onclick="checkQuiz(this, false, 'Maturation is remodeling.')" class="flex-1 p-2 bg-white border rounded hover:bg-slate-50">Maturation</button>
                    </div>
                    <div class="quiz-feedback hidden text-sm mt-2 p-2 rounded"></div>
                </div>
            `
        };

        // --- Logic Functions ---

        function loadSection(sectionId) {
            currentSection = sectionId;
            document.getElementById('content-area').innerHTML = sections[sectionId];
            
            // Set Title
            const titles = {
                intro: 'Introduction',
                healing: 'Wound Healing',
                burns_basics: 'Burns: Basics & Assessment',
                systemic: 'Systemic Changes',
                resuscitation: 'Fluid Resuscitation',
                management: 'Nursing Management',
                cancer: 'Skin Cancer',
                ngn_case: 'NGN Case Study'
            };
            document.getElementById('section-title').innerText = titles[sectionId];

            // Render quizzes if present
            if (sectionId === 'healing') {
                document.getElementById('quiz-healing').innerHTML = quizzes.healing;
            }

            // Scroll to top
            document.querySelector('.main-content').scrollTop = 0;
            
            // Update Active Nav
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active-nav', 'bg-slate-800', 'border-l-4', 'border-indigo-500'));
            // Note: A real app would map IDs to buttons more robustly, simplified here.
        }

        function markComplete(section) {
            progress[section] = 100;
            updateOverallProgress();
        }

        function updateOverallProgress() {
            const keys = Object.keys(progress);
            const total = keys.reduce((acc, key) => acc + progress[key], 0);
            const percentage = Math.round(total / keys.length);
            
            document.getElementById('overall-progress').style.width = percentage + '%';
            document.getElementById('progress-text').innerText = percentage;
        }

        // --- Interactive Tools Logic ---

        // Focus Mode
        function toggleFocusMode() {
            document.body.classList.toggle('focus-mode');
        }

        // Font Sizing
        let currentFontSize = 16;
        function changeFontSize(action) {
            if(action === 'increase' && currentFontSize < 24) currentFontSize += 2;
            if(action === 'decrease' && currentFontSize > 12) currentFontSize -= 2;
            document.getElementById('content-area').style.fontSize = currentFontSize + 'px';
        }

        // Notes
        function toggleNotes() {
            const modal = document.getElementById('notes-modal');
            modal.classList.toggle('hidden');
        }

        // TBSA Calculator
        let currentTBSA = 0;
        function toggleTBSA(btn, val) {
            if (btn.classList.contains('bg-red-500')) {
                // Deselect
                btn.classList.remove('bg-red-500', 'text-white');
                btn.classList.add('bg-white');
                currentTBSA -= val;
            } else {
                // Select
                btn.classList.remove('bg-white');
                btn.classList.add('bg-red-500', 'text-white');
                currentTBSA += val;
            }
            document.getElementById('tbsa-display').innerText = currentTBSA + '%';
        }

        function resetTBSA() {
            currentTBSA = 0;
            document.querySelectorAll('button[onclick^="toggleTBSA"]').forEach(btn => {
                btn.classList.remove('bg-red-500', 'text-white');
                btn.classList.add('bg-white');
            });
            document.getElementById('tbsa-display').innerText = '0%';
        }

        // Parkland Calculator
        function calculateParkland() {
            const weight = parseFloat(document.getElementById('calc-weight').value);
            const unit = document.getElementById('calc-unit').value;
            const tbsa = parseFloat(document.getElementById('calc-tbsa').value);
            
            if (!weight || !tbsa) return;

            let kgWeight = weight;
            if (unit === 'lbs') kgWeight = weight / 2.2;

            const totalVol = 4 * kgWeight * tbsa;
            const first8 = totalVol / 2;
            const next16 = totalVol / 2;

            document.getElementById('res-total').innerText = Math.round(totalVol);
            document.getElementById('res-rate1').innerText = Math.round(first8 / 8);
            document.getElementById('res-vol1').innerText = Math.round(first8);
            document.getElementById('res-rate2').innerText = Math.round(next16 / 16);
            document.getElementById('res-vol2').innerText = Math.round(next16);
            
            document.getElementById('calc-results').classList.remove('hidden');
        }

        // --- Quiz & NGN Logic ---

        function checkQuiz(btn, isCorrect, feedback) {
            const container = btn.parentElement.parentElement.querySelector('.quiz-feedback');
            container.classList.remove('hidden', 'bg-red-100', 'text-red-800', 'bg-green-100', 'text-green-800');
            
            if (isCorrect) {
                container.classList.add('bg-green-100', 'text-green-800');
                container.innerText = feedback;
            } else {
                container.classList.add('bg-red-100', 'text-red-800');
                container.innerText = "Try again. " + feedback;
            }
        }

        // NGN Q1
        function toggleHighlight(span) {
            span.classList.toggle('selected');
        }

        function checkHighlight() {
            const selected = document.querySelectorAll('.highlight-text.selected');
            const correct = document.querySelectorAll('.highlight-text.correct-highlight');
            const feedback = document.getElementById('feedback-q1');
            
            let correctCount = 0;
            selected.forEach(s => {
                if (s.classList.contains('correct-highlight')) correctCount++;
            });

            // Very simple validation for demo
            feedback.classList.remove('hidden');
            if (correctCount === 4 && selected.length === 4) {
                feedback.innerHTML = "<span class='text-green-600'>Correct! High HR, RR, and Low BP/SpO2 indicate shock/hypoxia.</span>";
            } else {
                feedback.innerHTML = "<span class='text-red-600'>Incorrect. Focus on Vital Signs indicating instability.</span>";
            }
        }

        // NGN Q2
        function checkCloze() {
            const s1 = document.getElementById('q2-select1').value;
            const s2 = document.getElementById('q2-select2').value;
            const s3 = document.getElementById('q2-select3').value;
            const fb = document.getElementById('feedback-q2');
            
            fb.classList.remove('hidden');
            if (s1 === 'correct' && s2 === 'correct' && s3 === 'correct') {
                fb.innerHTML = "<span class='text-green-600'>Correct! Risk is Hypovolemic Shock due to massive TBSA burn.</span>";
            } else {
                fb.innerHTML = "<span class='text-red-600'>Review: What is the biggest risk with fluid shift? What VS changes show this?</span>";
            }
        }

        // NGN Q3
        function checkMathQ() {
            // Wt 90.7kg, TBSA 49.5
            // 4 * 90.7 * 49.5 = 17,958.6 Total
            // First 8 hrs = / 2 = 8979.3
            const input = parseFloat(document.getElementById('q3-input').value);
            const fb = document.getElementById('feedback-q3');
            
            fb.classList.remove('hidden');
            if (Math.abs(input - 8979.3) < 1) { // Allow small margin
                fb.innerHTML = "<span class='text-green-600'>Correct! (8979.3 mL)</span>";
            } else {
                fb.innerHTML = "<span class='text-red-600'>Incorrect. Did you calculate Total Volume then divide by 2? (4 * 90.7 * 49.5 / 2)</span>";
            }
        }

        // Initial Load
        loadSection('intro');

    </script>
</body>
</html>
